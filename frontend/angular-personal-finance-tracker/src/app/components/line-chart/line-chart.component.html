<div class="chart-wrapper">
  <!-- Chart Controls -->
  <div class="chart-controls mb-3">
    <div class="row g-2">
      <div class="col-md-6 col-12">
        <label class="form-label small text-muted mb-1">Period</label>
        <select 
          class="form-select form-select-sm" 
          [(ngModel)]="selectedPeriod" 
          (change)="onPeriodChange()">
          <option value="weekly">Weekly</option>
          <option value="monthly">Monthly</option>
          <option value="yearly">Yearly</option>
        </select>
      </div>
      <div class="col-md-6 col-12">
        <label class="form-label small text-muted mb-1">Type</label>
        <select 
          class="form-select form-select-sm" 
          [(ngModel)]="selectedType" 
          (change)="onTypeChange()">
          <option value="BOTH">Income & Expenses</option>
          <option value="INCOME">Income Only</option>
          <option value="EXPENSE">Expenses Only</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Chart Container -->
  <div class="chart-container" [class.loading]="isLoading">
    <div *ngIf="isLoading" class="chart-loading">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
    <canvas #lineChartCanvas></canvas>
  </div>

  <!-- No Data Message -->
  <div *ngIf="!isLoading && transactionList.length === 0" class="text-center text-muted py-4">
    <i class="bi bi-graph-up display-4 d-block mb-2 opacity-25"></i>
    <p>No transaction data available</p>
  </div>
</div>